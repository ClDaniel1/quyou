var TimeT = function () {
    this.ada = require('../adapter');
};

TimeT.prototype.getAll = function (callback) {
    var sql = 'select * from t_Time';
    this.ada.all(sql,[],function (res,data) {
        if(res){
            callback(data);
        }
    })
};

TimeT.prototype.getNowId = function (hour,callback) {
    var sql = 'select * from t_Time where skStartTime <= ? and skEndTime > ?';
    this.ada.all(sql,[hour,hour],function (res,data) {
        if(res){
            if(data.length > 0){
                callback(true,data[0].skId);
            }
            else {
                callback(false);
            }
        }
    })
};

TimeT.prototype.getNow = function (hour,callback) {
    var sql = 'select * from t_Time where skStartTime <= ? and skEndTime > ?';
    this.ada.all(sql,[hour,hour],function (res,data) {
        if(res){
            if(data.length > 0){
                callback(true,data);
            }
            else {
                callback(false);
            }
        }
    })
};


module.exports = new TimeT();