var Customer = function () {
    this.ada = require('../adapter');
};

Customer.prototype.login = function (userid,userpsw,callback) {
    var sql = 'select customerId,customerImg,customerName from t_customer where customerId = ? and customerPsw=?';
    this.ada.all(sql,[userid,userpsw],function (res,data) {
        if(res){
            if(data.length>0){
                callback(res,data);
                console.log(data);
            }
           else {
                callback(false);
            }
        }
        else {
            callback(res);
        }
    })
};

Customer.prototype.customerName = function (customerId, callback) {
    var sql = 'select * from t_staff where staffId = ?';
    this.ada.all(sql,[customerId],function (res,data) {
        if(res){
            callback(data[0].staffName);
        }
    })
};
module.exports = new Customer();